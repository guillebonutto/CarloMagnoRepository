{% load static %}
<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Carlo Magno</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
		/>
		<link rel="stylesheet" href="{% static 'css/style.css' %}" />
		{% block extra_css %}{% endblock %}
	</head>
	<body>
		<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #8b0000">
			<div class="container-fluid">
				<a class="navbar-brand d-flex align-items-center" href="#" style="gap: 10px">
					<img
						src="{% static 'images/logo.png' %}"
						alt="Carlo Magno Logo"
						style="height: 50px; filter: brightness(0) invert(1)"
					/>
				</a>
				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarNav"
				>
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav ms-auto">
						<li class="nav-item"><a class="nav-link" href="{% url 'inicio' %}">Inicio</a></li>
						<li class="nav-item">
							<a class="nav-link" href="{% url 'productos' %}">Productos</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="{% url 'contact' %}">Contacto</a>
						</li>
						<!-- Usuario autenticado -->
						{% if user.is_authenticated %}
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
								<i class="fas fa-user-circle"></i> {{ user.first_name|default:user.username }}
							</a>
							<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
								<li><a class="dropdown-item" href="{% url 'perfil_cliente' %}"><i class="fas fa-user"></i> Mi Perfil</a></li>
								<li><a class="dropdown-item" href="{% url 'perfil_cliente' %}"><i class="fas fa-box"></i> Mis Pedidos</a></li>
								<li><hr class="dropdown-divider"></li>
								<li><a class="dropdown-item" href="{% url 'logout_cliente' %}"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a></li>
							</ul>
						</li>
						{% else %}
						<!-- Usuario no autenticado -->
						<li class="nav-item">
							<a class="nav-link" href="{% url 'login_cliente' %}">
								<i class="fas fa-sign-in-alt"></i> Iniciar Sesión
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link btn btn-outline-light ms-2" href="{% url 'registro_cliente' %}" style="border-radius: 20px;">
								<i class="fas fa-user-plus"></i> Registrarse
							</a>
						</li>
						{% endif %}
						<li class="nav-item">
							<div class="cart-wrapper">
								<div class="cart-icon" id="cartIcon">
									<i class="fas fa-shopping-cart"></i>
									<span class="cart-badge" id="cartBadge"
										>{{ carrito_cantidad|default:0 }}</span
									>
								</div>
								<div class="cart-dropdown" id="cartDropdown">
									<div class="cart-header">Tu Carrito</div>
									<div class="cart-items" id="cartItems">
										<!-- Los items se cargarán dinámicamente con JavaScript -->
										<div class="cart-empty" id="emptyCart" style="display: none">
											<i class="fas fa-shopping-cart"></i>
											<p>Tu carrito está vacío</p>
										</div>
									</div>
									<div class="cart-summary" id="cartSummary" style="display: none">
										<div class="cart-total">
											<span>Subtotal:</span>
											<span id="cartTotal">$0</span>
										</div>
										<button
											class="cart-checkout-btn"
											onclick="window.location.href='{% url 'productos' %}'"
										>
											Comprar
										</button>
									</div>
								</div>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		{% block content %}{% endblock %}

		<!-- FOOTER PRINCIPAL -->
		<footer class="main-footer">
			<div class="container">
				<div class="row">
					<!-- Sobre Nosotros -->
					<!-- <div class="col-md-3 col-sm-6 footer-section">
						<h5>Sobre Nosotros</h5>
						<ul>
							<li><a href="#">Quiénes Somos</a></li>
							<li><a href="#">Nuestra Historia</a></li>
							<li><a href="#">Trabajá con Nosotros</a></li>
							<li><a href="#">Sucursales</a></li>
						</ul>
					</div> -->

					<!-- Ayuda & Apoyo -->
					<div class="col-md-3 col-sm-6 footer-section">
						<h5>Ayuda & Apoyo</h5>
						<ul>
							<li><a href="#">Información de Envío</a></li>
							<li><a href="#">Devoluciones</a></li>
							<li><a href="#">Cómo Comprar</a></li>
							<li><a href="#">Rastrear Pedido</a></li>
							<li><a href="#">Guía de Talles</a></li>
						</ul>
					</div>

					<!-- Servicio al Cliente -->
					<div class="col-md-3 col-sm-6 footer-section">
						<h5>Servicio al Cliente</h5>
						<ul>
							<li><a href="#">Contáctenos</a></li>
							<li><a href="#">Formas de Pago</a></li>
							<li><a href="#">Puntos de Retiro</a></li>
							<li><a href="#">Preguntas Frecuentes</a></li>
						</ul>
					</div>

					<!-- Redes Sociales -->
					<div class="col-md-3 col-sm-6 footer-section">
						<h5>Seguinos</h5>
						<div class="social-icons">
							<a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
							<a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
							<a href="#" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
							<a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
							<a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
							<a href="#" aria-label="Pinterest"><i class="fab fa-pinterest"></i></a>
						</div>
					</div>
					
					<!-- Mail -->
					<div class="col-md-3 col-sm-6 footer-section">
						<div class="d-flex mt-3">
							<i class="fas fa-map-marker-alt me-4"></i>
							<p style="font-size: 13px; color: #bbb">Rivadavia 150 Local 2</p>
						</div>
						<div class="d-flex mt-3">
							<i class="fas fa-envelope me-3"></i>
							<p style="font-size: 13px; color: #bbb">gabriellamadrid52@gmail.com</p>
						</div>
					</div>

					<!-- Newsletter -->
					<div class="row newsletter-section">
						<div class="col-12">
							<h5>Suscribite para recibir ofertas exclusivas y promociones</h5>
							<div class="newsletter-form">
								<input type="email" placeholder="Tu dirección de Email" />
								<button type="submit">Suscribir</button>
							</div>
						</div>
					</div>

					<!-- Métodos de Pago -->
					<div class="row mt-4">
						<div class="col-md-8 col-12">
							<h5 style="font-size: 13px; text-transform: uppercase; margin-bottom: 15px">
								Aceptamos
							</h5>
							<div class="payment-methods">
								<img
									src="https://upload.wikimedia.org/wikipedia/commons/0/04/Visa.svg"
									alt="Visa"
								/>
								<img
									src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg"
									alt="Mastercard"
								/>
								<img
									src="https://upload.wikimedia.org/wikipedia/commons/3/39/PayPal_logo.svg"
									alt="PayPal"
								/>
								<img
									src="https://upload.wikimedia.org/wikipedia/commons/f/fa/American_Express_logo_%282018%29.svg"
									alt="American Express"
								/>
							</div>
						</div>
						<div class="col-md-4 col-12 text-center">
							<h5 style="font-size: 13px; text-transform: uppercase; margin-bottom: 15px">
								Data Fiscal
							</h5>
							<img
								src="{% static 'images/qr-fiscal.jpg' %}"
								alt="QR Data Fiscal"
								class="qr-fiscal"
							/>
						</div>
					</div>

					<!-- Footer Bottom -->
					<div class="footer-bottom">
						<p>©2009-2025 Pierre Cardin. Todos los derechos reservados</p>
						<div class="footer-links">
							<a href="#">Centro de Privacidad</a>
							<span>|</span>
							<a href="#">Política de privacidad y cookies</a>
							<span>|</span>
							<a href="#">Términos y condiciones</a>
							<span>|</span>
							<a href="#">Aviso de copyright</a>
							<span>|</span>
							<a href="#">Impresión</a>
						</div>
						<div class="country-selector">
							<i class="fas fa-map-marker-alt"></i> Argentina
						</div>
					</div>
				</div>
			</div>
		</footer>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
		<script>
			window.CART_URLS = {
				cartData: "{% url 'cart_data' %}",
				actualizarCantidad: "{% url 'actualizar_cantidad' %}",
				eliminarDelCarrito: "{% url 'eliminar_del_carrito' %}",
				agregarAlCarrito: "{% url 'agregar_al_carrito' %}",
			};
		</script>
		<script src="{% static 'js/carrito.js' %}"></script>
		{% block extra_js %}{% endblock %}
	</body>
</html>
