{% extends 'custom_admin/base.html' %}
{% load static %}
{% block title %}{{title}}{% endblock %}
{%block extra_css %}
<link rel="stylesheet" href="{% static 'css/productos_admin.css' %}" />
{% endblock %}

{% block content %}
<div class="main-content">
	<div class="header">
		<h1>{{ title }}</h1>
	</div>

	{% if messages %}
	<div class="messages">
		{% for message in messages %}
		<div class="alert alert-{{ message.tags }}">{{ message }}</div>
		{% endfor %}
	</div>
	{% endif %}

	<div class="form-container">
		<form method="POST" enctype="multipart/form-data">
			{% csrf_token %}

			<div class="form-group">
				<label for="{{ form.nombre.id_for_label }}">Nombre del Producto *</label>
				{{ form.nombre }} {{ form.nombre.errors }}
			</div>

			<div class="form-group">
				<label for="{{ form.descripcion.id_for_label }}">Descripción *</label>
				{{ form.descripcion }} {{ form.descripcion.errors }}
			</div>

			<div class="form-group">
				<label for="{{ form.precio.id_for_label }}">Precio *</label>
				{{ form.precio }} {{ form.precio.errors }}
			</div>

			<div class="form-group">
				<label for="{{ form.categoria.id_for_label }}">Categoría *</label>
				{{ form.categoria }} {{ form.categoria.errors }}
			</div>

			<div class="form-group">
				<label for="{{ form.marcas.id_for_label }}">Marca</label>
				{{ form.marca }} {{ form.marca.errors }}
			</div>

			<div class="form-group">
				<label for="{{ form.talle.id_for_label }}">Talle</label>
				{{ form.talle }} {{ form.talle.errors }}
			</div>

			<div class="form-group colores-container">
				<label for="{{ form.colores.id_for_label }}">Colores Disponibles</label>
				<div class="color-options">
					{% for checkbox in form.colores %}
						{{ checkbox.tag }}
						<span class="color-box" style="background-color: {{ checkbox.choice_label|safe }};"></span>
					{% endfor %}
				</div>
			</div>

			<div class="form-group">
				<label for="{{ form.imagen.id_for_label }}">Imagen del Producto</label>
				{{ form.imagen }} {{ form.imagen.errors }}
				<small style="color: #666"
					>La imagen se redimensionará automáticamente a 450x563px</small
				>
			</div>

			<div class="form-actions">
				<button type="submit" class="btn btn-primary">{{ button_text }}</button>
				<a href="{% url 'admin_productos' %}" class="btn btn-secondary">Cancelar</a>
			</div>
		</form>
	</div>
</div>
{% load static %}
<script src="{% static 'js/panel.js' %}"></script>
{% endblock %}